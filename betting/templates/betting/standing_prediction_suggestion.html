{% extends "betting/base.html" %}

{% block content %}
<h2>Exempel på tabellbet för {{ competition }}</h2>
<div class="table-responsive">
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th scope="col">Plac.</th>
                <th scope="col">Lag</th>
                {% for row in standing_predictions %}
                    <th scope="col">{{ row.user }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody class="table-group-divider">
            {% for team_list in teams %}
                <tr>
                    <td>{{ team_list.0.0.0 }}</td>
                    {% for team in team_list %}
                        <td class="text-nowrap">
                            <div class="d-flex align-items-start">
                                {{ team.0.1 }}
                                {% if not forloop.first %}<span class="ms-auto px-2 {% if not forloop.first %}{% if team.1 == 6 %} text-bg-success {% elif team.1 == 4 %} text-bg-warning {% else %} text-bg-secondary {% endif %}{% endif %}">{{ team.1 }}</span>{% endif %}
                            </div>
                        </td>
                    {% endfor %}
                </tr>
                {% if team_list.0.0.0 == 3 %} <tr><td>...</td>{% for team in team_list %}<td>...</td>{% endfor %}</tr>{% endif %}
            {% endfor %}
            <tr class="table-group-divider">
                <td>Poäng</td>
                <td></td>
                {% for row in standing_predictions %}
                    <td class="text-end">{{ row.points }}</td>
                {% endfor %}
            </tr>
            <tr class="table-group-divider">
                <td>Skyttekung</td>
                <td>{{ top_scorer }}</td>
                {% for row in standing_predictions %}
                    <td>{{ row.top_scorer }}</td>
                {% endfor %}
            </tr>
            <tr>
                <td>Assistkung</td>
                <td>{{ most_assists }}</td>
                {% for row in standing_predictions %}
                    <td>{{ row.most_assists }}</td>
                {% endfor %}
            </tr>
        </tbody>
    </table>
</div>

{% endblock %}
